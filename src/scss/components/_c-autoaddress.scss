// ============================================================
// Component: Auto Address
// Requires: @scss/settings.scss (via component import)
//
// Styles for the address lookup / autocomplete UI.
// Third-party widget wrapper — scope all rules under .c-autoaddress
// to avoid leaking into Bootstrap or other components.
//
// .c-autoaddress               — root wrapper
//   __input-group              — search field + button row
//   __dropdown                 — suggestion list container
//   __item                     — individual suggestion row
//     --highlighted            — keyboard / hover active row
//   __manual-entry             — "enter manually" toggle link
// ============================================================

.c-autoaddress {
    position: relative;

    // ----------------------------------------------------------
    // Input row
    // ----------------------------------------------------------

    &__input-group {
        display: flex;
        gap: $figma-spacing-8;
        align-items: stretch;

        input[type="text"] {
            flex: 1;
            padding: $figma-input-padding-y $figma-input-padding-x;     // 8px 16px
            font-size: 1rem;
            border: 1px solid $bordergrey;
            border-radius: $border-radius;                              // 8px
            color: $text;
            background-color: $white;
            transition: border-color 0.2s ease;

            &:focus {
                outline: none;
                border-color: $primary;
                box-shadow: 0 0 0 3px rgba($primary, 0.15);
            }

            &::placeholder {
                color: $tesco-dark-grey2;
            }
        }

        button {
            padding: $figma-button-padding-y $figma-button-padding-x;
            font-size: 1rem;
            font-weight: $figma-weight-semibold;
            border: none;
            border-radius: $border-radius;
            background-color: $primary;
            color: $white;
            cursor: pointer;
            transition: background-color 0.3s ease;
            white-space: nowrap;

            &:hover {
                background-color: $primary-dark;
            }
        }
    }

    // ----------------------------------------------------------
    // Suggestion dropdown
    // ----------------------------------------------------------

    &__dropdown {
        position: absolute;
        top: calc(100% + 4px);
        left: 0;
        right: 0;
        z-index: 100;
        background-color: $white;
        border: 1px solid $bordergrey;
        border-radius: $border-radius;
        box-shadow: 0 4px 12px rgba($black, 0.1);
        max-height: 260px;
        overflow-y: auto;

        // Custom scrollbar
        &::-webkit-scrollbar {
            width: 6px;
        }

        &::-webkit-scrollbar-track {
            background: $tesco-light-grey2;
        }

        &::-webkit-scrollbar-thumb {
            background-color: $bordergrey;
            border-radius: $border-radius-pill;
        }

        // Firefox
        scrollbar-width: thin;
        scrollbar-color: $bordergrey $tesco-light-grey2;
    }

    // ----------------------------------------------------------
    // Individual suggestion row
    // ----------------------------------------------------------

    &__item {
        display: block;
        padding: $figma-spacing-8 $figma-spacing-16;
        font-size: 0.9375rem;
        color: $text;
        cursor: pointer;
        transition: background-color 0.15s ease;
        border-bottom: 1px solid $tesco-light-grey3;

        &:last-child {
            border-bottom: none;
        }

        &:hover,
        &--highlighted {
            background-color: $tesco-light-grey;
            color: $primary;
        }
    }

    // ----------------------------------------------------------
    // "Enter address manually" toggle
    // ----------------------------------------------------------

    &__manual-entry {
        display: inline-block;
        margin-top: $figma-spacing-8;
        font-size: 0.875rem;
        color: $primary;
        text-decoration: underline;
        cursor: pointer;

        &:hover {
            color: $primary-dark;
        }
    }
}
